{
    "openapi": "3.0.3",
    "info": {
        "title": "API de Gestion RH",
        "description": "API Laravel pour la gestion des ressources humaines avec authentification Sanctum",
        "version": "1.0.0",
        "contact": {
            "name": "Support API",
            "email": "dev@example.com"
        }
    },
    "servers": [
        {
            "url": "http://localhost:8000/api/v1",
            "description": "Serveur de développement"
        },
        {
            "url": "https://personal-management.onrender.com/api/v1",
            "description": "Serveur de production"
        }
    ],
    "security": [
        {
            "bearerAuth": []
        }
    ],
    "components": {
        "securitySchemes": {
            "bearerAuth": {
                "type": "http",
                "scheme": "bearer",
                "bearerFormat": "JWT",
                "description": "Token d'authentification Sanctum"
            }
        },
        "schemas": {
            "User": {
                "type": "object",
                "properties": {
                    "id": { "type": "integer" },
                    "name": { "type": "string" },
                    "email": { "type": "string" },
                    "role_id": { "type": "integer" },
                    "statut": {
                        "type": "string",
                        "enum": ["attente_attribution", "actif", "inactif"]
                    },
                    "firstConnexion": { "type": "string" },
                    "email_verified_at": {
                        "type": "string",
                        "format": "date-time"
                    },
                    "created_at": { "type": "string", "format": "date-time" },
                    "updated_at": { "type": "string", "format": "date-time" }
                }
            },
            "Employe": {
                "type": "object",
                "properties": {
                    "id": { "type": "integer" },  
                    "nom": { "type": "string" },
                    "prenom": { "type": "string" },
                    "telephone": {"type": "string"},
                    "email": { "type": "string" },
                    "adresse": { "type": "string" },
                    "date_naiss": { "type": "string", "format": "date" },
                    "lieu_naiss": { "type": "string", "format": "date" },
                    "situation_matrimoniale": { "type": "string" },
                    "date_prise_service": {
                        "type": "string",
                        "format": "date"
                    },
                    "genre": { "type": "string" },
                    "type_contrat": { "type": "string" },
                    "solde_conge_jours": { "type": "integer" },
                    "fonction_id": { "type": "integer" },
                    "service_id": { "type": "integer" },
                    "type_agent_id": { "type": "integer" },
                    "user_id": { "type": "integer" },
                    "created_at": { "type": "string", "format": "date-time" },
                    "updated_at": { "type": "string", "format": "date-time" }
                }
            },
            "Conge": {
                "type": "object",
                "properties": {
                    "id": { "type": "integer" },
                    "employe_id": { "type": "integer" },
                    "type_conge_id": { "type": "integer" },
                    "date_demande": { "type": "string", "format": "date" },
                    "date_debut": { "type": "string", "format": "date" },
                    "date_fin": { "type": "string", "format": "date" },
                    "nombre_jours": { "type": "integer" },
                    "statut": {
                        "type": "string",
                        "enum": ["en_attente", "approuve", "refuse"]
                    },
                    "commentaire": { "type": "string" },
                    "piece_jointe": { "type": "file" },
                    "note_pdf": { "type": "string" },
                    "created_at": { "type": "string", "format": "date-time" },
                    "updated_at": { "type": "string", "format": "date-time" }
                }
            },
            "Cessation": {
                "type": "object",
                "properties": {
                    "id": { "type": "integer" },
                    "employe_id": { "type": "integer" },
                    "type_conge_id": { "type": "integer" },
                    "date_debut": { "type": "string", "format": "date" },
                    "date_fin": { "type": "string", "format": "date" },
                    "statut": {
                        "type": "string",
                        "enum": ["en_attente", "approuve", "refuse"]
                    },
                    "commentaire": { "type": "string" },
                    "fiche_cessation_pdf": { "type": "file" },
                    "nombre_jours": { "type": "integer" },
                    "created_at": { "type": "string", "format": "date-time" },
                    "updated_at": { "type": "string", "format": "date-time" }
                }
            },
            "Disponibilite": {
                "type": "object",
                "properties": {
                    "id": { "type": "integer" },
                    "employe_id": { "type": "integer" },
                    "date_demande": { "type": "string", "format": "date" },
                    "date_debut": { "type": "string", "format": "date" },
                    "date_fin": { "type": "string", "format": "date" },
                    "nombre_jours": { "type": "integer" },
                    "avec_solde": { "type": "boolean" },
                    "statut": {
                        "type": "string",
                        "enum": ["en_attente", "approuve", "refuse"]
                    },
                    "motif": { "type": "string" },
                    "piece_jointe": { "type": "file" },
                    "fiche_disponibilite_pdf": { "type": "file" },
                    "commentaire": { "type": "string" },
                    "created_at": { "type": "string", "format": "date-time" },
                    "updated_at": { "type": "string", "format": "date-time" }
                }
            },
            "TypeConge": {
                "type": "object",
                "properties": {
                    "id": { "type": "integer" },
                    "libelle": { "type": "string" },
                    "jours_par_defaut": { "type": "integer" },
                    "created_at": { "type": "string", "format": "date-time" },
                    "updated_at": { "type": "string", "format": "date-time" }
                }
            },
            "Service": {
                "type": "object",
                "properties": {
                    "id": { "type": "integer" },
                    "name": { "type": "string" },
                    "created_at": { "type": "string", "format": "date-time" },
                    "updated_at": { "type": "string", "format": "date-time" }
                }
            },

            "ApiResponse": {
                "type": "object",
                "properties": {
                    "success": { "type": "boolean" },
                    "message": { "type": "string" },
                    "data": { "type": "object" }
                }
            },
            "ErrorResponse": {
                "type": "object",
                "properties": {
                    "success": { "type": "boolean", "example": false },
                    "message": { "type": "string" },
                    "errors": { "type": "object" }
                }
            }
        }
    },
    "tags": [
        {
            "name": "Authentication",
            "description": "Endpoints pour l'authentification"
        },
        {
            "name": "Permissions",
            "description": "Gestion des permissions et rôles"
        },
        {
            "name": "Users",
            "description": "Gestion des utilisateurs"
        },
        {
            "name": "Employés",
            "description": "Gestion des employés"
        },
        {
            "name": "Congés",
            "description": "Gestion des congés"
        },
        {
            "name": "Cessations",
            "description": "Gestion des cessations"
        },
        {
            "name": "Disponibilités",
            "description": "Gestion des disponibilités"
        },
        {
            "name": "Types de Congés",
            "description": "Gestion des types de congés"
        },
        {
            "name": "Statistiques",
            "description": "Statistiques de l'application"
        }
    ],

    "paths": {
        "/permissions/roles-permissions": {
            "get": {
                "tags": ["Permissions"],
                "summary": "Récupérer les rôles et permissions",
                "description": "Récupère la liste des rôles et permissions disponibles",
                "security": [],
                "responses": {
                    "200": {
                        "description": "Liste des rôles et permissions récupérée avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Cessation"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/auth/login": {
            "post": {
                "tags": ["Authentication"],
                "summary": "Connexion utilisateur",
                "description": "Authentifie un utilisateur et retourne un token Sanctum",
                "security": [],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": ["email", "password"],
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email",
                                        "example": "rh1@gmail.com"
                                    },
                                    "password": {
                                        "type": "string",
                                        "example": "password123"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Connexion réussie",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "token": { "type": "string" },
                                        "user": {
                                            "$ref": "#/components/schemas/User"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Identifiants invalides",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/auth/logout": {
            "post": {
                "tags": ["Authentication"],
                "summary": "Déconnexion utilisateur",
                "description": "Déconnecte l'utilisateur et révoque le token",
                "responses": {
                    "200": {
                        "description": "Déconnexion réussie",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifié",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/auth/connectedUser": {
            "get": {
                "tags": ["Authentication"],
                "summary": "Utilisateur connecté",
                "description": "Récupère les informations de l'utilisateur connecté",
                "responses": {
                    "200": {
                        "description": "Informations utilisateur récupérées",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "user": {
                                            "$ref": "#/components/schemas/User"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Non authentifié",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/users/all": {
            "get": {
                "tags": ["Users"],
                "summary": "Liste tous les utilisateurs",
                "description": "Récupère la liste de tous les utilisateurs",
                "responses": {
                    "200": {
                        "description": "Liste des utilisateurs récupérée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/User"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/users/create-employe-account": {
            "post": {
                "tags": ["Users"],
                "summary": "Créer un compte pour un employé",
                "description": "Crée un compte utilisateur pour un employé existant",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": ["role_id", "employe_id"],
                                "properties": {
                                    "employe_id": { "type": "integer" },
                                    "role_id": { "type": "integer" }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Compte créé avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "Erreurs de validation",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/users/{id}": {
            "get": {
                "tags": ["Users"],
                "summary": "Afficher un utilisateur",
                "description": "Récupère les détails d'un utilisateur spécifique",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "integer" },
                        "description": "ID de l'utilisateur"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Utilisateur trouvé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/User"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Utilisateur non trouvé"
                    }
                }
            },
            "put": {
                "tags": ["Users"],
                "summary": "Mettre à jour un utilisateur",
                "description": "Met à jour les informations d'un utilisateur",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "integer" },
                        "description": "ID de l'utilisateur"
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "name": { "type": "string" },
                                    "email": {
                                        "type": "string",
                                        "format": "email"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Utilisateur mis à jour",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": ["Users"],
                "summary": "Supprimer un utilisateur",
                "description": "Supprime un utilisateur",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "integer" },
                        "description": "ID de l'utilisateur"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Utilisateur supprimé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/users/change-password": {
            "post": {
                "tags": ["Users"],
                "summary": "Changer le mot de passe",
                "description": "Change le mot de passe de l'utilisateur connecté",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": ["password", "confirmed"],
                                "properties": {
                                    "password": { "type": "string" },
                                    "confirmed": { "type": "string" }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Mot de passe changé avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/employes": {
            "get": {
                "tags": ["Employés"],
                "summary": "Liste tous les employés",
                "description": "Récupère la liste de tous les employés",
                "responses": {
                    "200": {
                        "description": "Liste des employés récupérée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Employe"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": ["Employés"],
                "summary": "Créer un nouvel employé",
                "description": "Crée un nouvel employé",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "nom",
                                    "prenom",
                                    "telephone",
                                    "email",
                                    "date_naiss",
                                    "lieu_naiss",
                                    "situation_matrimoniale",
                                    "date_prise_service",
                                    "genre",
                                    "type_contrat",
                                    "fonction_id",
                                    "service_id",
                                    "type_agent_id"
                                ],
                                "properties": {
                                    "nom": { "type": "string" },
                                    "prenom": { "type": "string" },
                                    "telephone": { "type": "string" },
                                    "email": {
                                        "type": "string",
                                        "format": "email"
                                    },
                                    "date_naiss": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "lieu_naiss": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "situation_matrimoniale": {
                                        "type": "string",
                                        "enum": [
                                            "Célibataire",
                                            "Marié",
                                            "Divorcé",
                                            "Veuve"
                                        ]
                                    },
                                    "date_prise_service": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "genre": {
                                        "type": "string",
                                        "enum": ["Homme", "Femme"]
                                    },
                                    "type_contrat": {
                                        "type": "string",
                                        "enum": [
                                            "CDI",
                                            "CDD",
                                            "Intérim",
                                            "Stage",
                                            "Apprentissage"
                                        ]
                                    },
                                    "fonction_id": { "type": "integer" },
                                    "service_id": { "type": "integer" },
                                    "type_agent_id": { "type": "integer" }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Employé créé avec succès",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/employes/soldeConge": {
            "get": {
                "tags": ["Employés"],
                "summary": "Solde de congés",
                "description": "Récupère le solde de congés de l'employé connecté",
                "responses": {
                    "200": {
                        "description": "Solde de congés récupéré",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "solde": { "type": "integer" }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/employes/{id}": {
            "get": {
                "tags": ["Employés"],
                "summary": "Afficher un employé",
                "description": "Récupère les détails d'un employé spécifique",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "integer" },
                        "description": "ID de l'employé"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Employé trouvé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/Employe"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": ["Employés"],
                "summary": "Mettre à jour un employé",
                "description": "Met à jour les informations d'un employé",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "integer" },
                        "description": "ID de l'employé"
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "nom": { "type": "string" },
                                    "prenom": { "type": "string" },
                                    "email": {
                                        "type": "string",
                                        "format": "email"
                                    },
                                    "telephone": { "type": "string" },
                                    "poste": { "type": "string" },
                                    "salaire": { "type": "number" }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Employé mis à jour",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/employes/dossiers/{id}": {
            "get": {
                "tags": ["Employés"],
                "summary": "Documents d'un employé",
                "description": "Récupère les documents d'un employé (sans authentification requise)",
                "security": [],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "integer" },
                        "description": "ID de l'employé"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Documents récupérés",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/conges": {
            "get": {
                "tags": ["Congés"],
                "summary": "Liste tous les congés",
                "description": "Récupère la liste de tous les congés",
                "responses": {
                    "200": {
                        "description": "Liste des congés récupérée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Conge"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": ["Congés"],
                "summary": "Créer une demande de congé",
                "description": "Crée une nouvelle demande de congé",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": ["type_conge_id", "piece_jointe"],
                                "properties": {
                                    "type_conge_id": { "type": "integer" },
                                    "piece_jointe": {
                                        "type": "string",
                                        "format": "file"
                                    },
                                    "motif": { "type": "string" }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Demande de congé créée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/conges/mesConges": {
            "get": {
                "tags": ["Congés"],
                "summary": "Mes congés",
                "description": "Récupère les congés de l'employé connecté",
                "responses": {
                    "200": {
                        "description": "Congés de l'employé récupérés",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Conge"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/conges/{id}": {
            "get": {
                "tags": ["Congés"],
                "summary": "Afficher un congé",
                "description": "Récupère les détails d'un congé spécifique",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "integer" },
                        "description": "ID du congé"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Congé trouvé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/Conge"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": ["Congés"],
                "summary": "Mettre à jour un congé",
                "description": "Met à jour une demande de congé",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "integer" },
                        "description": "ID du congé"
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "date_debut": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "date_fin": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "motif": { "type": "string" }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Congé mis à jour",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": ["Congés"],
                "summary": "Supprimer un congé",
                "description": "Supprime une demande de congé",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "integer" },
                        "description": "ID du congé"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Congé supprimé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/conges/traiterDemandeConge/{id}": {
            "post": {
                "tags": ["Congés"],
                "summary": "Traiter une demande de congé",
                "description": "Approuve ou refuse une demande de congé",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "integer" },
                        "description": "ID du congé"
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": ["decision"],
                                "properties": {
                                    "decision": {
                                        "type": "string",
                                        "enum": ["valide", "rejete"]
                                    },
                                    "commentaire": { "type": "string" },
                                    "motif": { "type": "string" }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Demande traitée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/cessations": {
            "get": {
                "tags": ["Cessations"],
                "summary": "Liste toutes les cessations",
                "description": "Récupère la liste de toutes les cessations",
                "responses": {
                    "200": {
                        "description": "Liste des cessations récupérée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Cessation"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": ["Cessations"],
                "summary": "Créer une demande de cessation",
                "description": "Crée une nouvelle demande de cessation",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "type_conge_id",
                                    "date_debut",
                                    "date_fin",
                                    "motif"
                                ],
                                "properties": {
                                    "type_conge_id": { "type": "integer" },
                                    "date_debut": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "date_fin": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "motif": { "type": "string" }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Demande de cessation créée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/cessations/mesCessations": {
            "get": {
                "tags": ["Cessations"],
                "summary": "Mes cessations",
                "description": "Récupère les cessations de l'employé connecté",
                "responses": {
                    "200": {
                        "description": "Cessations de l'employé récupérées",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Cessation"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/cessations/{id}": {
            "get": {
                "tags": ["Cessations"],
                "summary": "Afficher une cessation",
                "description": "Récupère les détails d'une cessation spécifique",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "integer" },
                        "description": "ID de la cessation"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Cessation trouvée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/Cessation"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "put": {
                "tags": ["Cessations"],
                "summary": "Mettre à jour une cessation",
                "description": "Met à jour une demande de cessation",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "integer" },
                        "description": "ID de la cessation"
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "date_cessation": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "motif": { "type": "string" },
                                    "type": { "type": "string" }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Cessation mise à jour",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    }
                }
            },
            "delete": {
                "tags": ["Cessations"],
                "summary": "Supprimer une cessation",
                "description": "Supprime une demande de cessation",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "integer" },
                        "description": "ID de la cessation"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Cessation supprimée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/cessations/traiterDemandeCessation/{id}": {
            "post": {
                "tags": ["Cessations"],
                "summary": "Traiter une demande de cessation",
                "description": "Approuve ou refuse une demande de cessation",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "integer" },
                        "description": "ID de la cessation"
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "decision",
                                    "date_debut",
                                    "date_fin",
                                    "motif"
                                ],
                                "properties": {
                                    "decision": {
                                        "type": "decion",
                                        "enum": ["valide", "rejete"]
                                    },
                                    "date_debut": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "date_fin": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "motif": { "type": "string" },
                                    "commentaire": { "type": "string" }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Demande traitée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/disponibilites": {
            "get": {
                "tags": ["Disponibilités"],
                "summary": "Liste toutes les disponibilités",
                "description": "Récupère la liste de toutes les disponibilités",
                "responses": {
                    "200": {
                        "description": "Liste des disponibilités récupérée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Disponibilite"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": ["Disponibilités"],
                "summary": "Créer une demande de disponibilité",
                "description": "Crée une nouvelle demande de mise en disponibilité",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "date_debut",
                                    "date_fin",
                                    "motif",
                                    "avec_solde",
                                    "motif"
                                ],
                                "properties": {
                                    "date_debut": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "date_fin": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "motif": { "type": "string" },
                                    "avec_solde": {
                                        "type": "string",
                                        "format": "boolean"
                                    }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Demande de disponibilité créée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/disponibilites/mesDisponibilites": {
            "get": {
                "tags": ["Disponibilités"],
                "summary": "Mes disponibilités",
                "description": "Récupère les disponibilités de l'employé connecté",
                "responses": {
                    "200": {
                        "description": "Disponibilités de l'employé récupérées",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Disponibilite"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/disponibilites/{id}": {
            "get": {
                "tags": ["Disponibilités"],
                "summary": "Afficher une disponibilité",
                "description": "Récupère les détails d'une disponibilité spécifique",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "integer" },
                        "description": "ID de la disponibilité"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Disponibilité trouvée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/Disponibilite"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/disponibilites/traiterDemandeCessation/{id}": {
            "post": {
                "tags": ["Disponibilités"],
                "summary": "Traiter une demande de disponibilité",
                "description": "Approuve ou refuse une demande de mise en disponibilité",
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "integer" },
                        "description": "ID de la disponibilité"
                    }
                ],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": [
                                    "decision",
                                    "date_debut",
                                    "date_fin",
                                    "motif"
                                ],
                                "properties": {
                                    "decision": {
                                        "type": "string",
                                        "enum": ["valide", "rejete"]
                                    },
                                    "date_debut": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "date_fin": {
                                        "type": "string",
                                        "format": "date"
                                    },
                                    "motif": { "type": "string" },
                                    "commentaire": { "type": "string" }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Demande traitée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/typesConges": {
            "get": {
                "tags": ["Types de Congés"],
                "summary": "Liste tous les types de congés",
                "description": "Récupère la liste de tous les types de congés (sans authentification requise)",
                "security": [],
                "responses": {
                    "200": {
                        "description": "Liste des types de congés récupérée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/TypeConge"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": ["Types de Congés"],
                "summary": "Créer un type de congé",
                "description": "Crée un nouveau type de congé (sans authentification requise)",
                "security": [],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": ["libelle", "jours_par_defaut"],
                                "properties": {
                                    "libelle": { "type": "string" },
                                    "jours_par_defaut": { "type": "integer" }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Type de congé créé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/typesConges/{id}": {
            "get": {
                "tags": ["Types de Congés"],
                "summary": "Afficher un type de congé",
                "description": "Récupère les détails d'un type de congé spécifique (sans authentification requise)",
                "security": [],
                "parameters": [
                    {
                        "name": "id",
                        "in": "path",
                        "required": true,
                        "schema": { "type": "integer" },
                        "description": "ID du type de congé"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Type de congé trouvé",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "$ref": "#/components/schemas/TypeConge"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/stats": {
            "get": {
                "tags": ["Statistiques"],
                "summary": "Toutes les statistiques",
                "description": "Récupère toutes les statistiques de l'application (sans authentification requise)",
                "security": [],
                "responses": {
                    "200": {
                        "description": "Statistiques récupérées",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "object",
                                            "properties": {
                                                "total_employes": {
                                                    "type": "integer"
                                                },
                                                "total_conges": {
                                                    "type": "integer"
                                                },
                                                "conges_en_attente": {
                                                    "type": "integer"
                                                },
                                                "conges_approuves": {
                                                    "type": "integer"
                                                },
                                                "total_cessations": {
                                                    "type": "integer"
                                                },
                                                "total_disponibilites": {
                                                    "type": "integer"
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/stats/{entity}": {
            "get": {
                "tags": ["Statistiques"],
                "summary": "Statistiques ciblées",
                "description": "Récupère les statistiques pour une entité spécifique (sans authentification requise)",
                "security": [],
                "parameters": [
                    {
                        "name": "entity",
                        "in": "path",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "enum": [
                                "employes",
                                "conges",
                                "cessations",
                                "disponibilites"
                            ]
                        },
                        "description": "Entité pour laquelle récupérer les statistiques"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Statistiques de l'entité récupérées",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": { "type": "object" }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/services": {
            "get": {
                "tags": ["Services"],
                "summary": "Liste tous les Services",
                "description": "Récupère la liste de tous les types services",
                
                "responses": {
                    "200": {
                        "description": "Liste des services récupérée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "success": {
                                            "type": "boolean",
                                            "example": true
                                        },
                                        "data": {
                                            "type": "array",
                                            "items": {
                                                "$ref": "#/components/schemas/Service"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "post": {
                "tags": ["Services"],
                "summary": "Créer un Service",
                "description": "Crée un nouveau service",
                "security": [],
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "required": ["name"],
                                "properties": {
                                    "name": { "type": "string" }
                                }
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Service crée",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ApiResponse"
                                }
                            }
                        }  
                    }
                }
            }
        }

    }
}
